package gorl

import (
	"log"

	"github.com/nsf/termbox-go"
)

var TheDungeon = []string{
	"############################################################",
	"#..........................................................#",
	"#..........................................................#",
	"#..........................................................#",
	"#..........................................................#",
	"#..........................................................#",
	"#..........................................................#",
	"#..........................................................#",
	"#..........................................................#",
	"#..........................................................#",
	"#..........................................................#",
	"#..........................................................#",
	"#..........................................................#",
	"#..........................................................#",
	"#.............####.##########.####.........................#",
	"#.............#..................#.........................#",
	"#.............#..................#.........................#",
	"#.............#..................#.........................#",
	"#.............#..................#.........................#",
	"#.............#..................#.........................#",
	"#.............#..................#.........................#",
	"#.............#..................#.........................#",
	"#.............#..................#.........................#",
	"#.............####.##########.####.........................#",
	"#..........................................................#",
	"#..........................................................#",
	"#..........................................................#",
	"#..........................................................#",
	"#..........................................................#",
	"#..........................................................#",
	"#..........................................................#",
	"#..........................................................#",
	"#..........................................................#",
	"#..........................................................#",
	"#..........................................................#",
	"#..........................................................#",
	"#..........................................................#",
	"#..........................................................#",
	"#..........................................................#",
	"############################################################",
}

func GenerateDungeon(log log.Logger) *Dungeon {
	width, height := len(TheDungeon[0]), len(TheDungeon)
	d := NewDungeon(width, height, log)
	var tile Tile

	for y := 0; y < height; y++ {
		for x, c := range TheDungeon[y] {
			switch c {
			case '#':
				tile = NewTile('#', termbox.ColorYellow, Flag(0)|FlagBlocksLight)
			case '.':
				tile = NewTile('.', termbox.ColorWhite, Flag(0)|FlagCrossable)
			default:
				tile = InvalidTile
			}
			d.tiles[y][x] = tile
		}
	}
	return d
}
